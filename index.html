<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ch√° de Fralda üíú</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #f7f2ff, #ffffff);
  min-height: 100vh;
  overflow-x: hidden;
}

/* NUVENS */
.cloud {
  position: fixed;
  font-size: 90px;
  opacity: 0.12;
  top: 15%;
  left: -200px;
  animation: cloudMove 70s linear infinite;
  pointer-events: none;
}

.cloud.second {
  top: 45%;
  animation-delay: 35s;
}

@keyframes cloudMove {
  from { left: -200px; }
  to { left: 110%; }
}

/* CARD */
.card {
  background: #fff;
  width: 90%;
  max-width: 380px;
  margin: 60px auto;
  border-radius: 24px;
  padding: 28px;
  box-shadow: 0 20px 40px rgba(0,0,0,0.12);
  animation: cardIn 0.9s ease-out;
  position: relative;
}

@keyframes cardIn {
  from { opacity: 0; transform: scale(0.95) translateY(20px); }
  to { opacity: 1; transform: scale(1) translateY(0); }
}

/* CORA√á√ÉO */
.heart {
  position: absolute;
  top: 14px;
  right: 18px;
  font-size: 22px;
  animation: pulse 1.5s infinite;
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.15); }
  100% { transform: scale(1); }
}

h1 {
  text-align: center;
  color: #6b4eff;
  margin-bottom: 6px;
}

.subtitle {
  text-align: center;
  color: #888;
  margin-bottom: 20px;
  font-size: 14px;
}

input {
  width: 100%;
  padding: 12px;
  border-radius: 12px;
  border: 1px solid #ccc;
  margin-bottom: 14px;
  font-size: 15px;
  box-sizing: border-box;
}

.btn {
  width: 100%;
  padding: 13px;
  border-radius: 14px;
  border: none;
  background: linear-gradient(135deg, #7aa2ff, #e6a6ff);
  color: #fff;
  font-size: 15px;
  cursor: pointer;
  margin-bottom: 10px;
}

/* MODAIS */
.modal {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.45);
  justify-content: center;
  align-items: center;
  z-index: 100;
}

.modal-content {
  background: #fff;
  width: 90%;
  max-width: 320px;
  border-radius: 18px;
  padding: 22px;
  text-align: center;
  position: relative;
}

.close {
  position: absolute;
  top: 10px;
  right: 10px;
  background: #eee;
  border-radius: 50%;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-weight: bold;
}

.option {
  background: #f1f1f1;
  padding: 12px;
  border-radius: 10px;
  margin: 8px 0;
  cursor: pointer;
}

.summary {
  text-align: left;
  font-size: 14px;
}
</style>
</head>

<body>

<div class="cloud">‚òÅÔ∏è</div>
<div class="cloud second">‚òÅÔ∏è</div>

<div class="card">
  <div class="heart">üíú</div>
  <h1>Ch√° de Fralda</h1>
  <div class="subtitle">Com muito carinho para o nosso beb√™</div>

  <input id="nome" placeholder="Digite seu nome">

  <button class="btn" onclick="abrirLocal()">üìç Local do evento</button>
  <button class="btn" onclick="abrirAcompanhante()">üë• Voc√™ levar√° algu√©m?</button>
  <button class="btn" onclick="abrirFralda()">üéÅ O que voc√™ vai levar?</button>
  <button class="btn" onclick="confirmarPresenca()">‚≠ê Confirmar presen√ßa</button>
</div>

<!-- MODAL LOCAL -->
<div class="modal" id="modalLocal">
  <div class="modal-content">
    <div class="close" onclick="fechar('modalLocal')">‚úï</div>
    <p>üìç Local ser√° informado em breve üíï</p>
  </div>
</div>

<!-- MODAL ACOMPANHANTE -->
<div class="modal" id="modalAcompanhante">
  <div class="modal-content">
    <div class="close" onclick="fechar('modalAcompanhante')">‚úï</div>
    <h3>Voc√™ levar√° algu√©m?</h3>
    <div class="option" onclick="selecionarAcompanhante('Sim')">Sim</div>
    <div class="option" onclick="selecionarAcompanhante('N√£o')">N√£o</div>
  </div>
</div>

<!-- MODAL FRALDA -->
<div class="modal" id="modalFralda">
  <div class="modal-content">
    <div class="close" onclick="fechar('modalFralda')">‚úï</div>
    <h3>Qual fralda voc√™ vai levar?</h3>
    <div class="option" onclick="selecionarFralda('P')">Fralda P</div>
    <div class="option" onclick="selecionarFralda('M')">Fralda M</div>
    <div class="option" onclick="selecionarFralda('G')">Fralda G</div>
  </div>
</div>

<!-- MODAL RESUMO -->
<div class="modal" id="modalResumo">
  <div class="modal-content">
    <h3>Resumo</h3>
    <div class="summary" id="resumo"></div>
    <button class="btn" onclick="finalizar()">‚ú® Tudo certo</button>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<audio id="som">
  <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_9c86e1b98c.mp3">
</audio>

<script>
let fralda = '';
let acompanhante = '';

const SHEET_URL = "https://script.google.com/macros/library/d/1AL9hh8a3a0iLgPr85v_Qa747EM_-8eArDRCF5qJviowKkE5oHwNYGQSF/5";

function abrirLocal(){ document.getElementById('modalLocal').style.display='flex'; }
function abrirAcompanhante(){ document.getElementById('modalAcompanhante').style.display='flex'; }
function abrirFralda(){ document.getElementById('modalFralda').style.display='flex'; }
function fechar(id){ document.getElementById(id).style.display='none'; }

function selecionarAcompanhante(v){
  acompanhante = v;
  fechar('modalAcompanhante');
}

function selecionarFralda(v){
  fralda = v;
  fechar('modalFralda');
}

function confirmarPresenca(){
  const nome = document.getElementById('nome').value.trim();
  if(!nome || !fralda || !acompanhante){
    alert("Preencha tudo antes üòä");
    return;
  }

  document.getElementById('resumo').innerHTML = `
    <p><strong>Nome:</strong> ${nome}</p>
    <p><strong>Fralda:</strong> ${fralda}</p>
    <p><strong>Acompanhante:</strong> ${acompanhante}</p>
  `;
  document.getElementById('modalResumo').style.display='flex';
}

function finalizar(){
  const nome = document.getElementById('nome').value;

  fetch(SHEET_URL, {
    method: 'POST',
    body: JSON.stringify({
      nome: nome,
      fralda: fralda,
      acompanhante: acompanhante
    })
  }).then(() => {
    document.getElementById('som').play();
    confetti();
    alert("Presen√ßa confirmada üíú");
    document.getElementById('modalResumo').style.display='none';
  }).catch(() => {
    alert("Erro ao enviar üò¢");
  });
}
</script>

</body>
</html>